---
title: 论如何优雅的给系统接入区块链存证功能
icon: file
order: 
date: 2025-08-24
category:
  - Java
tags:
  - 区块链
  - SpringBoot
  - AOP
  - 设计模式
---
## Part 1: 理论基础篇 (Foundation)

### 场景再现

#### 业务痛点

#### 传统方案的局限性

#### 区块链存证的价值

### 什么是区块链

#### 区块链的基本原理

#### 存证的技术原理


### AOP 的基本概念

#### 切面编程的原理

#### 为什么选择使用 AOP 实现

### 常见的设计模式

## Part 2: 渐进式实现篇 (Progressive Implementation)

### 表设计

| **字段名称** | **字段类型** | **字段说明** | **是否必填** | **备注** |
| -------- | -------- | -------- | -------- | ------ |
|          |          |          |          |        |

### 使用 AOP 无感引入 

  核心思路：
  - 自定义注解 `@ChainBlockCertify`，标记需要存证的方法
  - 通过 `AOP` 拦截带注解的方法调用、提取数据、异步调用区块链 SDK
  - 在方法执行成功后，异步处理存证逻辑，不影响业务流程，完全解耦

### 使用设计模式增加拓展与可维护性

#### 用适配器/包装器模式兼容不同 SDK

  - `BlockchainSDKClientAdapter` 接口统一不同区块链 SDK 的调用方式
  - 同时支持真实 `SDK` 和 `Mock SDK`，便于测试和开发
  - 通过配置切换不同实现，无需修改业务代码


#### 用策略模式统一数据提取

- `DataExtractor` 接口支持不同业务类型的数据提取策略

#### 用模板方法模式减少样板代码

- `AbstractDataExtractor` 提供通用的文件处理和哈希计算模板
- 子类只需实现具体的业务数据提取逻辑

#### 管理器模式

- `MappingHandlerManager` 管理多个数据映射处理器
- 按优先级依次执行机构、部门、人员等字段映射
- 支持动态扩展新的映射规则

### 异步处理与重试机制


## Part 3: 封装为复用 Starter (Reusable Component)


### 工程结构划分


### 

## Part 4: 总结（Summary）








 

 
